# Install IoT Edge, Moby Engine And Configure IoT Edge Device

## Provision and Configure IoT Edge Device

1. Navigate to the Environment Details tab, and expand the **Resource Group:** linuxvm-rg-<inject key= "DeploymentID"></inject>

   ![](https://github.com/CloudLabsAI-Azure/Automated-Quality-Inspection/blob/aiot/media/021.png)
   
2. After expanding the linuxvm-rg Resource Group, we will SSH into the LinuxVM and install **IoT Edge,IoT Edge Runtime, Moby Engine, and configure the container**

   ![](https://github.com/CloudLabsAI-Azure/Automated-Quality-Inspection/blob/aiot/media/022.png)
   
3. Click on the **Terminal** icon in the taskbar, and open up an Ubuntu 22.04 LTS session:

   ![](https://github.com/CloudLabsAI-Azure/Automated-Quality-Inspection/blob/aiot/media/023.png)
   
4. Now, enter the following command to SSH into the LinuxVM:
   
   ```
   ssh <inject key= "LinuxVMAdmin Username"></inject>@<inject key= "LinuxVMDNSName"></inject> 
   ```
5. If there is a prompt **"Are you sure you want to continue connecting(yes/no/[fingerprint])?"**, enter yes

   ![](https://github.com/CloudLabsAI-Azure/Automated-Quality-Inspection/blob/aiot/media/04.png)
   
6. You will then be prompted to enter the password, make sure to copy and paste the password: <inject key= "LinuxVMAdminPassword"></inject>, and then hit enter. After logging in , enter **Ctrl+L** to clear the login details

   ![](https://github.com/CloudLabsAI-Azure/Automated-Quality-Inspection/blob/aiot/media/05.png)
   
7. Run the following command to install **IoT Edge**

   ```
   wget https://packages.microsoft.com/config/ubuntu/22.04/packages-microsoft-prod.deb -O packages-microsoft-prod.deb
	 sudo dpkg -i packages-microsoft-prod.deb
   rm packages-microsoft-prod.deb
   ```
   
8. Run the following command to install **Moby Engine**

   ```
   	sudo apt-get update; \
      sudo apt-get install moby-engine -Y
   ```
   
9. Run the following command to install Vim Text Editor

   ```
   sudo apt-get install vim
   ```
   
10. Run the following command to configure container as logging mechanism

   ```
   	sudo vim /etc/docker/daemon.json
   ```
   
11. Press **i**, and set the default logging driver to the local logging by pasting the below code:

   ```
   {
      "log-driver": "local"
   }
   ```
   
   Now, press **Esc+wq!** which will save the changes made to the container daemon.json file and exit. 



   
